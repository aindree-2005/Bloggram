import{g as M,a as D,k as I,s as H,b as X,t as q,_ as g,c as z,d as S,r as x,u as K,e as V,j as s,f as Q,h as Y,i as G,l as J,R as f,m as O,C as Z,n as B,o as tt,B as c,I as et,T as v,p as st,P as it,D as at,q as nt}from"./index-cd888a92.js";import{a as rt}from"./BlogModel-dc40cd48.js";import{c as ot,a as A}from"./convertDate-adbe64fe.js";import{I as E,C as lt,h as ct,a as dt,b as ht,S as mt,B as _}from"./CustomBlogList-1820c68e.js";import{A as pt}from"./CustomStylings-f5fa00b3.js";import{C as ut}from"./Chip-de9cdbea.js";function xt(e){return M("MuiSkeleton",e)}D("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ft=["animation","className","component","height","style","variant","width"];let j=e=>e,L,$,N,R;const gt=e=>{const{classes:t,variant:a,animation:n,hasChildren:r,width:i,height:l}=e;return Y({root:["root",a,n,r&&"withChildren",r&&!i&&"fitContent",r&&!l&&"heightAuto"]},xt,t)},vt=I(L||(L=j`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),jt=I($||($=j`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),wt=H("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],a.animation!==!1&&t[a.animation],a.hasChildren&&t.withChildren,a.hasChildren&&!a.width&&t.fitContent,a.hasChildren&&!a.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const a=X(e.shape.borderRadius)||"px",n=q(e.shape.borderRadius);return g({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:z(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${a}/${Math.round(n/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&S(N||(N=j`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),vt),({ownerState:e,theme:t})=>e.animation==="wave"&&S(R||(R=j`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),jt,(t.vars||t).palette.action.hover)),Ct=x.forwardRef(function(t,a){const n=K({props:t,name:"MuiSkeleton"}),{animation:r="pulse",className:i,component:l="span",height:d,style:h,variant:o="text",width:p}=n,u=V(n,ft),b=g({},n,{animation:r,component:l,variant:o,hasChildren:!!u.children}),W=gt(b);return s.jsx(wt,g({as:l,ref:a,className:Q(W.root,i),ownerState:b},u,{style:g({width:p,height:d},h)}))}),m=Ct;var k={},yt=J;Object.defineProperty(k,"__esModule",{value:!0});var P=k.default=void 0,kt=yt(G()),bt=s,St=(0,kt.default)((0,bt.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");P=k.default=St;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C.apply(this,arguments)}function Bt(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}const U={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},Et=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"];function _t(e,t){if(!e||typeof e!="object")return e;const a={};return Object.keys(e).forEach(n=>{t.indexOf(n)>-1||(a[n]=e[n])}),a}const Lt=["component","ellipsis","trimRight","className"];function T(e,t){for(;e&&t--;)e=e.previousElementSibling;return e}const F={basedOn:void 0,className:"",component:"div",ellipsis:"â€¦",maxLine:1,onReflow(){},text:"",trimRight:!0,winWidth:void 0},$t=Object.keys(F);class y extends f.Component{constructor(t){super(t),this.state={text:t.text,clamped:!1},this.units=[],this.maxLine=0,this.canvas=null}componentDidMount(){this.initCanvas(),this.reflow(this.props)}componentDidUpdate(t){t.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.props!==t&&this.reflow(this.props)}componentWillUnmount(){this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}setState(t,a){return typeof t.clamped<"u"&&(this.clamped=t.clamped),super.setState(t,a)}initCanvas(){if(this.canvas)return;const t=this.canvas=document.createElement("div");t.className=`LinesEllipsis-canvas ${this.props.className}`,t.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(U).forEach(a=>{t.style[a]=U[a]}),document.body.appendChild(t)}copyStyleToCanvas(){const t=window.getComputedStyle(this.target);Et.forEach(a=>{this.canvas.style[a]=t[a]})}reflow(t){const a=t.basedOn||(/^[\x00-\x7F]+$/.test(t.text)?"words":"letters");switch(a){case"words":this.units=t.text.split(/\b|(?=\W)/);break;case"letters":this.units=Array.from(t.text);break;default:throw new Error(`Unsupported options basedOn: ${a}`)}this.maxLine=+t.maxLine||1,this.canvas.innerHTML=this.units.map(l=>`<span class='LinesEllipsis-unit'>${l}</span>`).join("");const n=this.putEllipsis(this.calcIndexes()),r=n>-1,i={clamped:r,text:r?this.units.slice(0,n).join(""):t.text};this.setState(i,t.onReflow.bind(this,i))}calcIndexes(){const t=[0];let a=this.canvas.firstElementChild;if(!a)return t;let n=0,r=1,i=a.offsetTop;for(;(a=a.nextElementSibling)&&(a.offsetTop>i&&(r++,t.push(n),i=a.offsetTop),n++,!(r>this.maxLine)););return t}putEllipsis(t){if(t.length<=this.maxLine)return-1;const a=t[this.maxLine],n=this.units.slice(0,a),r=this.canvas.children[a].offsetTop;this.canvas.innerHTML=n.map((d,h)=>`<span class='LinesEllipsis-unit'>${d}</span>`).join("")+`<wbr><span class='LinesEllipsis-ellipsis'>${this.props.ellipsis}</span>`;const i=this.canvas.lastElementChild;let l=T(i,2);for(;l&&(i.offsetTop>r||i.offsetHeight>l.offsetHeight||i.offsetTop>l.offsetTop);)this.canvas.removeChild(l),l=T(i,2),n.pop();return n.length}isClamped(){return this.clamped}render(){const{text:t,clamped:a}=this.state,n=this.props,{component:r,ellipsis:i,trimRight:l,className:d}=n,h=Bt(n,Lt);return f.createElement(r,C({className:`LinesEllipsis ${a?"LinesEllipsis--clamped":""} ${d}`,ref:o=>this.target=o},_t(h,$t)),a&&l?t.replace(/[\s\uFEFF\xA0]+$/,""):t,f.createElement("wbr",null),a&&f.createElement("span",{className:"LinesEllipsis-ellipsis"},i))}}y.defaultProps=F;const w=({blog:e,likedBlogs:t=[],savedBlogs:a=[],getCurrUser:n=()=>{}})=>{var h;const r=O(),[i,l]=x.useState({name:"",date:""}),d=(o,p)=>{A.getSingle(o,p).then(u=>{u.status==="200"&&l(u.message)})};return x.useEffect(()=>{const o=new AbortController;return d(e.userId,o.signal),()=>{o.abort()}},[]),s.jsx(f.Fragment,{children:s.jsxs(Z,{children:[s.jsx("img",{src:`${B}/blog/image/${e==null?void 0:e._id}`,onError:o=>{o.target.onerror=null,o.target.src=E},alt:"",style:{width:"100%",height:"200px",objectFit:"cover"},loading:"lazy",onClick:()=>r(`/blog/${e._id}`)}),s.jsxs(tt,{className:"mt-3",children:[s.jsxs(c,{className:"d-flex align-items-center justify-content-between",sx:{flexDirection:{xs:"column",md:"row"}},children:[s.jsxs(c,{className:"d-flex align-items-center",onClick:()=>r(`/blog/${e._id}`),children:[s.jsx(pt,{src:`${B}/user/image/${e==null?void 0:e.userId}`,sx:{width:30,height:30},onError:o=>{o.target.onerror=null,o.target.src=E}}),s.jsx("small",{className:"mb-0 text-muted ms-2",children:i==null?void 0:i.name})," ",s.jsx("small",{className:"mb-0 fw-light text-muted ms-2",children:ot(i==null?void 0:i.date)})]}),s.jsxs(c,{children:[s.jsx(lt,{id:e._id,likedBlogs:t,handleLike:ct,_getUser:()=>n()}),s.jsx(dt,{id:e._id,savedBlog:a,handleSave:ht,_getUser:()=>n()}),s.jsx(et,{"aria-label":"share",children:s.jsx(mt,{})})]})]}),s.jsx(v,{variant:"h5",className:"my-3",onClick:()=>r(`/blog/${e._id}`),children:s.jsx(y,{text:e==null?void 0:e.title,maxLine:"1",ellipsis:"...",trimRight:!0,basedOn:"letters"})}),s.jsx(v,{variant:"h6",style:{fontWeight:400},onClick:()=>r(`/blog/${e._id}`),children:s.jsx(y,{text:e==null?void 0:e.desc,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})}),s.jsx(c,{sx:{mt:1},children:(h=e==null?void 0:e.tags)==null?void 0:h.map(o=>s.jsx(ut,{label:o,sx:{mr:1}},o))})]})]})})},Nt=()=>{const e=st("(max-width:600px)"),[t,a]=x.useState(!0),[n,r]=x.useState([]);x.useEffect(()=>{const h=new AbortController;return rt.getSingle("featuredposts",h.signal,"").then(o=>{r(o.message.sort((p,u)=>p.likes>u.likes?1:u.likes>p.likes?-1:0)),a(!1)}),()=>{h.abort()}},[]);const[i,l]=x.useState({name:"",date:"",likedBlogs:[],savedBlogs:[]}),d=(h,o)=>{A.getSingle(h,o,"details").then(p=>{console.log(p.message),p.status==="200"&&l(p.message)})};return x.useEffect(()=>{const h=new AbortController,o=localStorage.getItem(`${it}UserId`);return d(o,h.signal),()=>{h.abort()}},[]),s.jsx(f.Fragment,{children:s.jsx(c,{className:"container",id:"blog-content",children:t?s.jsxs(c,{className:"row mt-3 mb-3",children:[s.jsxs(c,{className:"col-md-6",children:[s.jsx(m,{variant:"rectangular",width:"auto",height:200}),s.jsxs(c,{sx:{pt:.5},children:[s.jsx(m,{}),s.jsx(m,{width:"60%"})]})]}),s.jsxs(c,{className:"col-md-6",children:[s.jsxs(c,{sx:{display:"flex",gap:1},children:[s.jsx(m,{variant:"rectangular",width:"50%",height:100}),s.jsxs(c,{sx:{width:"50%"},children:[s.jsx(m,{}),s.jsx(m,{width:"60%"}),s.jsx(m,{width:"40%"}),s.jsx(m,{})]})]}),s.jsxs(c,{sx:{display:"flex",gap:1,mt:1},children:[s.jsx(m,{variant:"rectangular",width:"50%",height:100}),s.jsxs(c,{sx:{width:"50%"},children:[s.jsx(m,{}),s.jsx(m,{width:"60%"}),s.jsx(m,{width:"40%"}),s.jsx(m,{})]})]})]})]}):n.length!==0&&n&&s.jsxs(c,{className:"row mt-3",children:[s.jsxs(c,{className:"col-lg-6",sx:{mb:{xs:5}},children:[s.jsxs(v,{sx:{mb:2},variant:"h6",children:["See what is trending ",s.jsx(P,{})," !"]}),s.jsx(w,{blog:n==null?void 0:n[0],likedBlogs:i==null?void 0:i.likedBlogs,savedBlogs:i==null?void 0:i.savedBlogs,getCurrUser:()=>d()})]}),s.jsxs(c,{className:"col-lg-6 pt-2",children:[e?s.jsx(w,{blog:n==null?void 0:n[1],likedBlogs:i==null?void 0:i.likedBlogs,savedBlogs:i==null?void 0:i.savedBlogs,getCurrUser:()=>d()}):s.jsx(_,{blog:n==null?void 0:n[1],likedBlogs:i==null?void 0:i.likedBlogs,savedBlogs:i==null?void 0:i.savedBlogs,getCurrUser:()=>d()}),e?s.jsx(w,{blog:n==null?void 0:n[2],likedBlogs:i==null?void 0:i.likedBlogs,savedBlogs:i==null?void 0:i.savedBlogs,getCurrUser:()=>d()}):s.jsx(_,{blog:n==null?void 0:n[2],likedBlogs:i==null?void 0:i.likedBlogs,savedBlogs:i==null?void 0:i.savedBlogs,getCurrUser:()=>d()})]})]})})})},Rt=()=>s.jsx(f.Fragment,{children:s.jsx(c,{className:"container pt-5",children:s.jsx(v,{component:"h1",className:"display-3 mb-5 mt-4",style:{fontWeight:600},children:"Write Passionate Blogs about Everything"})})}),Ft=()=>{const e=O();return s.jsxs(f.Fragment,{children:[s.jsx(Rt,{}),s.jsx(at,{}),s.jsx(Nt,{}),s.jsx(c,{className:"text-center",sx:{mt:{xs:3,md:0}},children:s.jsx(nt,{variant:"contained",onClick:()=>e("/signup"),children:"Start Reading Now !"})})]})};export{Ft as default};

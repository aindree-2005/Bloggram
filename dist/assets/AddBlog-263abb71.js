import{r as i,m as S,j as l,ax as n,P as g}from"./index-cd888a92.js";import{a as x}from"./BlogModel-dc40cd48.js";import{B as D}from"./BlogSections-49c0b348.js";import"./Chip-de9cdbea.js";const P=()=>{const[s,d]=i.useState(null),[e,r]=i.useState({title:"",desc:"",tags:[],content:[]}),m=a=>{r({...e,content:a})},[u,p]=i.useState(!1),f=a=>{r({...e,[a.target.name]:a.target.value})},h=S(),F=a=>{var c;if(e.type==="PUBLISHED"){if(e.title===""){n.error("Fill in the title");return}if(e.desc===""){n.error("Fill in the Description");return}if(e.content===""){n.error("Fill in the Content");return}if(((c=e==null?void 0:e.tags)==null?void 0:c.length)===0){n.error("Fill in the tags");return}}p(!0);const B=localStorage.getItem(`${g}UserId`),I=localStorage.getItem(`${g}uname`);let t=new FormData;s&&t.append("image",s),t.append("userId",B),t.append("uname",I),t.append("title",e.title),t.append("desc",e.desc),t.append("content",e.content),t.append("tags",JSON.stringify(e.tags)),t.append("type",a),x.postFormData(t).then(o=>{o.status==="200"?n.success(o.message):n.error(o.message)}),p(!1),h("/dashboard")};return l.jsx(l.Fragment,{children:l.jsx(D,{blog:e,setBlog:r,file:s,setFile:d,handleInputs:f,handleChange:m,loading:u,handleBlog:F})})};export{P as default};
